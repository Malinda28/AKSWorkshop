{"source":2,"revision":27,"description":null,"createdBy":{"displayName":"Chaminda Chandrasekara","url":"https://spsprodeus22.vssps.visualstudio.com/Abee6738c-dee5-443d-94a4-2951dc4c0c08/_apis/Identities/84f2a6cb-7327-4dca-bbff-69f0dc00aa02","_links":{"avatar":{"href":"https://dev.azure.com/chamindac/_apis/GraphProfile/MemberAvatars/msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"}},"id":"84f2a6cb-7327-4dca-bbff-69f0dc00aa02","uniqueName":"chaminda_chandrasekara@yahoo.com","imageUrl":"https://dev.azure.com/chamindac/_api/_common/identityImage?id=84f2a6cb-7327-4dca-bbff-69f0dc00aa02","descriptor":"msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"},"createdOn":"2018-11-20T15:09:05.277Z","modifiedBy":{"displayName":"Chaminda Chandrasekara","url":"https://spsprodeus22.vssps.visualstudio.com/Abee6738c-dee5-443d-94a4-2951dc4c0c08/_apis/Identities/84f2a6cb-7327-4dca-bbff-69f0dc00aa02","_links":{"avatar":{"href":"https://dev.azure.com/chamindac/_apis/GraphProfile/MemberAvatars/msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"}},"id":"84f2a6cb-7327-4dca-bbff-69f0dc00aa02","uniqueName":"chaminda_chandrasekara@yahoo.com","imageUrl":"https://dev.azure.com/chamindac/_api/_common/identityImage?id=84f2a6cb-7327-4dca-bbff-69f0dc00aa02","descriptor":"msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"},"modifiedOn":"2019-01-06T15:25:57.077Z","isDeleted":false,"variables":{"ACR":{"value":"chacr01.azurecr.io"},"AppName":{"value":"aksdemo-app1"},"buildversion":{"value":"$(Build.BuildId)"},"ImageName":{"value":"aksdemo"},"SecretName":{"value":"mydemosecret1"}},"variableGroups":[],"environments":[{"id":2,"name":"dev","rank":1,"owner":{"displayName":"Chaminda Chandrasekara","url":"https://spsprodeus22.vssps.visualstudio.com/Abee6738c-dee5-443d-94a4-2951dc4c0c08/_apis/Identities/84f2a6cb-7327-4dca-bbff-69f0dc00aa02","_links":{"avatar":{"href":"https://dev.azure.com/chamindac/_apis/GraphProfile/MemberAvatars/msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"}},"id":"84f2a6cb-7327-4dca-bbff-69f0dc00aa02","uniqueName":"chaminda_chandrasekara@yahoo.com","imageUrl":"https://dev.azure.com/chamindac/_api/_common/identityImage?id=84f2a6cb-7327-4dca-bbff-69f0dc00aa02","descriptor":"msa.MmU1NWRlOWUtM2M5OC03MWQxLTllYmYtNTY0NDhmYWIzZTM0"},"variables":{"KubNamespace":{"value":"demodev"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":4}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":5},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":6}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"artifactItems":[],"alias":"_DemoCoreApp-dev-as - CI","artifactType":"Build","artifactDownloadMode":"Skip"},{"alias":"_AKS Demo","artifactType":"Git","artifactDownloadMode":"All"}]},"queueId":1109,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"a8515ec8-7254-4ffd-912c-86772e2b5962","version":"3.*","name":"Replace tokens in *.yml","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"rootDirectory":"$(System.DefaultWorkingDirectory)/_AKS Demo","targetFiles":"*.yml","encoding":"auto","writeBOM":"true","actionOnMissing":"warn","keepToken":"false","tokenPrefix":"__","tokenSuffix":"__","emptyValue":"(empty)","escapeType":"none","escapeChar":"","charsToEscape":""}},{"environment":{},"taskId":"cbc316a2-586f-4def-be79-488a1f503564","version":"1.*","name":"kubectl apply Namespace","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectionType":"Azure Resource Manager","kubernetesServiceEndpoint":"","azureSubscriptionEndpoint":"01ef8fe3-f07e-4851-a55c-6151794acd02","azureResourceGroup":"rgAks01","kubernetesCluster":"chaks01","namespace":"","command":"apply","useConfigurationFile":"true","configuration":"$(System.DefaultWorkingDirectory)/_AKS Demo/AKSDemoNamespace.yml","arguments":"","secretType":"dockerRegistry","secretArguments":"","containerRegistryType":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpointForSecrets":"","azureContainerRegistry":"","secretName":"","forceUpdate":"true","configMapName":"","forceUpdateConfigMap":"false","useConfigMapFile":"false","configMapFile":"","configMapArguments":"","versionOrLocation":"version","versionSpec":"1.7.0","checkLatest":"false","specifyLocation":"","cwd":"$(System.DefaultWorkingDirectory)","outputFormat":"json"}},{"environment":{},"taskId":"cbc316a2-586f-4def-be79-488a1f503564","version":"1.*","name":"kubectl apply","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":null,"overrideInputs":{},"condition":"succeeded()","inputs":{"connectionType":"Azure Resource Manager","kubernetesServiceEndpoint":"","azureSubscriptionEndpoint":"01ef8fe3-f07e-4851-a55c-6151794acd02","azureResourceGroup":"rgAks01","kubernetesCluster":"chaks01","namespace":"$(KubNamespace)","command":"apply","useConfigurationFile":"true","configuration":"$(System.DefaultWorkingDirectory)/_AKS Demo/AKSDemoDeploy.yml","arguments":"","secretType":"dockerRegistry","secretArguments":"","containerRegistryType":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpointForSecrets":"73a7b802-3a8f-40b5-b0cb-c2a44b40db11","azureContainerRegistry":"chacr01.azurecr.io","secretName":"$(SecretName)","forceUpdate":"true","configMapName":"","forceUpdateConfigMap":"false","useConfigMapFile":"false","configMapFile":"","configMapArguments":"","versionOrLocation":"version","versionSpec":"1.7.0","checkLatest":"false","specifyLocation":"","cwd":"$(System.DefaultWorkingDirectory)","outputFormat":"json"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":27,"url":"https://vsrm.dev.azure.com/chamindac/2f3e3d6e-6b7d-46cb-b65a-27c396261aff/_apis/Release/releases/27","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/chamindac/_apis/public/Release/badge/2f3e3d6e-6b7d-46cb-b65a-27c396261aff/2/2"}],"artifacts":[{"sourceId":"2f3e3d6e-6b7d-46cb-b65a-27c396261aff:bd3006d5-e68d-45f3-9409-bf9c8def8959","type":"Git","alias":"_AKS Demo","definitionReference":{"branches":{"id":"master","name":"master"},"checkoutNestedSubmodules":{"id":"True","name":"Any nested submodules within"},"checkoutSubmodules":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionType":{"id":"latestFromBranchType","name":"Latest from the default branch"},"definition":{"id":"bd3006d5-e68d-45f3-9409-bf9c8def8959","name":"AKS Demo"},"fetchDepth":{"id":"","name":""},"gitLfsSupport":{"id":"","name":""},"project":{"id":"2f3e3d6e-6b7d-46cb-b65a-27c396261aff","name":"AKS Demo"}},"isRetained":false},{"sourceId":"2f3e3d6e-6b7d-46cb-b65a-27c396261aff:143","type":"Build","alias":"_DemoCoreApp-dev-as - CI","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/chamindac/_permalink/_build/index?collectionId=cdbf67ea-c6ac-4257-aad7-c3a2d7ac62c9&projectId=2f3e3d6e-6b7d-46cb-b65a-27c396261aff&definitionId=143","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"143","name":"DemoCoreApp-dev-as - CI"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"2f3e3d6e-6b7d-46cb-b65a-27c396261aff","name":"AKS Demo"},"repository":{"id":"bd3006d5-e68d-45f3-9409-bf9c8def8959","name":"AKS Demo"}},"isPrimary":true,"isRetained":false}],"triggers":[{"artifactAlias":"_DemoCoreApp-dev-as - CI","triggerConditions":[],"triggerType":1}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"pipelineProcess":{"type":1},"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"Other"}},"id":2,"name":"Deploy to AKS","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/chamindac/2f3e3d6e-6b7d-46cb-b65a-27c396261aff/_apis/Release/definitions/2","_links":{"self":{"href":"https://vsrm.dev.azure.com/chamindac/2f3e3d6e-6b7d-46cb-b65a-27c396261aff/_apis/Release/definitions/2"},"web":{"href":"https://dev.azure.com/chamindac/2f3e3d6e-6b7d-46cb-b65a-27c396261aff/_release?definitionId=2"}}}